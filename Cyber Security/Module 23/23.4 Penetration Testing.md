# âš”ï¸ Penetration Testing

## **1. Definition & Purpose**
**Penetration Testing (Pen Testing)** is the practice of simulating attacks to identify weaknesses. It is a form of **Ethical Hacking**.

> [!abstract] **Pen Testing vs. Vulnerability Testing**
> *   **Vulnerability Testing:** *Identifies* potential problems (List of open doors).
> *   **Pen Testing:** *Exploits* vulnerabilities to gain access (Walking through the door).

### **Testing Levels (The "Boxes")**

| Type | Knowledge Level | Description | Cost/Time |
| :--- | :--- | :--- | :--- |
| **â¬› Black Box** | **None** | Simulates an **outsider** attack. Tester knows nothing about the internal system. | Lowest |
| **â¬œ White Box** | **Full** | Simulates an **insider** attack. Tester has full knowledge (network maps, code). | Highest |
| **ðŸ”² Gray Box** | **Partial** | Simulates an attacker with some inside info (e.g., a compromised user account). | Medium |

---

## **2. The 4 Phases of Pen Testing**

1.  **ðŸ“‹ Planning:**
    *   Establish the **Rules of Engagement**.
    *   Define scope and goals.

2.  **ðŸ” Discovery (Reconnaissance):**
    *   **Passive Recon (Footprinting):** No direct engagement (e.g., checking website, LinkedIn, public records).
    *   **Active Recon:** Engaging the target (e.g., Port Scanning).

3.  **ðŸ’¥ Attack:**
    *   Exploiting vulnerabilities to gain access.
    *   **Escalated Privileges:** Gaining admin rights.
    *   **Lateral Movement:** Moving through the network.
    *   **Pivoting:** Using one compromised system to attack another.
    *   **Persistence:** Installing backdoors to maintain access.
    *   **Cleanup:** Removing logs and signs of entry.

4.  **ðŸ“ Reporting:**
    *   Delivering documentation of vulnerabilities, actions taken, and results to the client.

---

## **3. Exercise Teams (War Games)**

Organizations use colored teams to conduct long-term penetration exercises.

| Team | Role | Function |
| :--- | :--- | :--- |
| **ðŸ”´ Red Team** | **Adversary** | The Attackers. Try to compromise the system unnoticed. |
| **ðŸ”µ Blue Team** | **Defenders** | The Security Team. Try to detect and stop the Red Team. |
| **âšª White Team** | **Referees** | Neutral. Define rules, goals, and oversee the exercise (Governance). |
| **ðŸŸ£ Purple Team** | **Hybrid** | Red and Blue work **together** to identify vulnerabilities and improve controls. |

> **ðŸ› Bug Bounty Programs:** Formalized programs where the public is invited to find bugs for a monetary reward.

---

## **4. Packet Analysis (Sniffing)**

**Packet Analyzers (Sniffers)** intercept and log network traffic.

*   **Function:** "Eavesdropping" on traffic passing through the NIC.
*   **Dual Use:**
    *   âœ… **Admins:** Troubleshoot network problems, analyze bandwidth.
    *   âŒ **Criminals:** Steal data, login credentials, and spy.
*   **Defense:** **Physical security** is critical to prevent attackers from plugging in sniffers.

> [!example] **Wireshark: Telnet vs. SSH**
> *   **Telnet:** Traffic is sent in **plaintext**. A sniffer *can* read usernames and passwords.
> *   **SSH:** Traffic is **encrypted**. A sniffer sees only scrambled data.