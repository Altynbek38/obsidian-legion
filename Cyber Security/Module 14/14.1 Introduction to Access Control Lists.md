
# **Access Control List**


# 14.1.1: What is an ACL?

#### Core Concepts
*   **Access Control List (ACL):** A series of Cisco IOS commands that act as a filter for network packets.
*   **Purpose:** Applied to a router's interface to control which packets are permitted or denied entry or exit.
*   **Packet Filtering:** The process of evaluating packets against the rules in an ACL.

#### How an ACL Works
1.  An ACL consists of a sequential list of **Access Control Entries (ACEs)**.
2.  Each ACE is a `permit` or `deny` statement.
3.  When a packet arrives at an interface with an ACL, the router checks the packet against each ACE in order, from top to bottom.
4.  Once a match is found, the router executes the `permit` or `deny` action and stops checking.

#### Primary Functions of ACLs
*   **Improve Performance:** Block non-essential traffic (e.g., video) to reduce network load.
*   **Control Traffic Flow:** Restrict routing updates to come only from trusted sources.
*   **Provide Basic Security:** Limit access to sensitive networks (e.g., restricting access to the HR department's network).
*   **Filter by Traffic Type:** Allow certain traffic (like email) while blocking others (like Telnet).
*   **Screen Hosts:** Grant or deny specific users/hosts access to network services (e.g., FTP, HTTP).
*   **Prioritize Traffic (QoS):** Identify high-priority traffic (like voice) so it can be processed faster.



---

# 14.1.2: Packet Filtering

#### Core Concept
*   **Packet Filtering:** A process that controls network access by analyzing incoming/outgoing packets and deciding whether to forward or discard them based on specific criteria.

#### OSI Layers
Packet filtering operates primarily at:
*   **Layer 3 (Network):** Using IP addresses.
*   **Layer 4 (Transport):** Using port numbers (TCP/UDP).

#### ACL Types on Cisco Routers

Cisco routers support two main types of ACLs:

*   **Standard ACLs**
    *   Filter at **Layer 3**.
    *   Criteria: **Source IPv4 address ONLY**.
    *   Use for simple, source-based filtering.

*   **Extended ACLs**
    *   Filter at **Layer 3 and Layer 4**.
    *   Layer 3 Criteria: Source **and/or** Destination IPv4 address.
    *   Layer 4 Criteria: TCP/UDP ports, and specific protocols.
    *   Provide much more granular and specific control.


---

# 14.1.3: Numbered vs. Named ACLs

#### Numbered ACLs
The original method for creating ACLs, identified by a number. The number determines the type of ACL.

*   **Standard ACLs:** `1-99` & `1300-1999`
*   **Extended ACLs:** `100-199` & `2000-2699`

**Limitation:** Difficult to manage and edit.

#### Named ACLs
**The preferred method** for configuring ACLs. They use a descriptive name instead of a number, making it easier to understand their purpose.

*   **Creation Command:** `ip access-list {standard | extended} [NAME]`
*   **Example (Extended Named ACL):**
    ```
    R1(config)# ip access-list extended FTP-FILTER
    R1(config-ext-nacl)# permit tcp 192.168.10.0 0.0.0.255 any eq ftp
    R1(config-ext-nacl)# permit tcp 192.168.10.0 0.0.0.255 any eq ftp-data
    ```

**Key Advantages & Rules:**
*   Names are descriptive (e.g., `FTP-FILTER`).
*   Use alphanumeric characters; no spaces or punctuation.
*   Best practice is to use ALL CAPS.
*   **Major Advantage:** Allows for deleting and inserting individual lines (ACEs) within the ACL, which is not possible with numbered ACLs.


---

### **14.1.4: ACL Operation**

#### Inbound vs. Outbound ACLs
ACLs can be applied in two directions on a router interface:

*   **Inbound ACL:**
    *   Filters packets **as they enter** an interface, *before* they are routed.
    *   **Benefit:** More efficient, as it drops unwanted packets early, saving the router the work of a routing lookup.
    *   **Best Use Case:** Filtering traffic from a specific network connected to that interface.

*   **Outbound ACL:**
    *   Filters packets **as they exit** an interface, *after* they have been routed.
    *   **Best Use Case:** Applying a single filter to traffic that comes from multiple different sources but leaves through the same interface.

> **Note:** ACLs do not apply to traffic that **originates from the router itself**.

#### Packet Processing Logic
When a packet arrives at an interface with an ACL, the router follows these steps:
1.  It checks the packet against the first Access Control Entry (ACE) in the list.
2.  If the packet matches the ACE, the router performs the `permit` or `deny` action and **stops processing the ACL**.
3.  If there is no match, it moves to the next ACE in the sequence.
4.  This continues until a match is found or the end of the list is reached.

#### The Implicit Deny Rule
*   Every ACL has an invisible `deny any` statement at the very end. This is the **implicit deny**.
*   **Consequence:** If a packet does not match any of your configured `permit` statements, it will be automatically dropped.
*   **Golden Rule:** An ACL must contain **at least one `permit` statement**; otherwise, it will block all traffic.